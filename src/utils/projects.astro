---
import { getCaseStudies } from './caseStudies.astro';

type Args = {
    exceptSlugs?: string[];
    max?: number;
    /**
     * @default 'random'
     */
    sortMethod?: 'date' | 'random';
};

export const getProjects = async (args?: Args) => {
    const posts = await getCaseStudies(args);

    return posts.map(x => ({
        ...x,
        path: x.path.replace('/case-studies/', '/projects/'),
    }));
};
---
